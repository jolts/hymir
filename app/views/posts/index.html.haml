- if @posts.any?
  %ul#posts
    - @posts.each do |post|
      %li.post{:class => post.published ? nil : 'draft'}
        .content
          .head
            %h2.title
              = link_to h(post.title), post_path(post)
              - if not post.published
                %span.draft [draft]
            %p.meta
              Posted
              - if post.tags.any?
                in #{tag_paths post.tags}
              by
              %strong= h post.user.username
              on
              = content_tag :span, post.created_at.strftime('%B %e, %Y'), :title => post.created_at
              &mdash;
              = link_to pluralize(post.comments.count, 'comment'), "#{post_path post}#comments"
          .body
            = markdown post.body

  %p#pagination
    = link_to '&larr; Previous Page', :overwrite_params => {:page => @posts.previous_page} if @posts.previous_page
    = '|' if @posts.previous_page && @posts.next_page
    = link_to 'Next Page &rarr;', :overwrite_params => {:page => @posts.next_page} if @posts.next_page
- else
  %h2 No posts found!
